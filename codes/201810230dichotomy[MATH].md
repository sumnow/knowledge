<!--
Created: Mon Aug 26 2019 15:20:34 GMT+0800 (China Standard Time)
Modified: Mon Aug 26 2019 15:20:34 GMT+0800 (China Standard Time)
-->
# 二分法

理论的魅力, 在问题的一开始就知道有没有解, 解的范围. 

就像小学做题目 ax^2+bx+c = 0

大家都会先判断 b^2 - 4ac >= 0 来推断该方程是否有实数解. 

### 猜数问题

小明心里默想一个正整数n, 且 n 属于 [0, 100], 每次猜完后, 小明会告诉你是或者不是, 那么最多几次可以猜中? 

大家都知道用二分法, 先猜 0到50, 再猜50-100, 以此类推, 稍微推断一下可知在7次以内就可以猜中答案.

其实这个问题也可以这么想: 

每次结果有 是或者不是 两种, 如果n的范围是 [0, 1], 那么一次便可中, "0 在 0 的范围内么? "

如果是在[0, 3]内, 就需要

$$ 2^2 = 4 $$

次, 所以实际上

$$ 2^{7} = 128 $$ 

, 所以在可选值在(64, 128]中, 需要最多7次. 

如果是在[0, 5]之中猜一个, 那么需要几次呢? 

一共 6 个, 二分法会从[0, 2]开始猜, 然后猜[0, 1], 然后命中

如果按照8个来猜, 会这么猜, 先 [0, 3], [0, 1]或者[2, 3], 然后命中

### 老鼠问题

有八瓶水, 其中之一有剧毒, 喝下后一星期死亡, 现有三只白鼠和一周时间, 如何区分毒药? 

以下是解题思路: 

给瓶子标记为0～7, 记为数组b, 那么共有8种可能. 

对于老鼠来说, 假设老鼠死为1, 生为0, 那么三只老鼠可以标记出 (2^3 = 8) 种情况 , 即

``` js
000 = 0
001 = 1
010 = 2
011 = 3
100 = 4
101 = 5
110 = 6
111 = 7
```

可见这个问题是有解的, 老鼠的生死情况可以完全标记瓶子的情况

那么, 来考虑问题的解, 我们把 `[]b` 的内容标记为0(有毒的为1), 这是因为考虑到只有三只老鼠, 那么肯定需要将8瓶水进行累加操作, 如果有毒为1, 那么与0做加法, 最后也得出1, 正好符合老鼠死亡的标记1.

接下来需要进行瓶子分组, 如何根据最后的老鼠死亡情况, 得出瓶子分类呢? 

我们观察一下上面的老鼠死亡情况, 在每一位上都有0或者1两种情况, 再观察第一位, 得到1的为 1, 3, 5, 7 , 那么将这几个瓶子的水混合, 给第一个老鼠喝, 再看第二位, 得到1的是 2, 3, 6, 7 , 那么将这几个瓶子的水混合, 给第二个老鼠喝, 再看第三位, 得到1的是4, 5, 6, 7, 那么将这几个瓶子的水混合, 给第三个老鼠喝, 那么最后结果也就标记出了是哪个瓶子的水有毒. 

> 为什么要将一样的值划分到一起, 是因为将得出同一结论的在这一步合并, 在下一步再细分

### 秤球问题

又是个很经典的问题, 假如有12个外观一样的球, 与一架天平, 只有其中的一个是坏球(或轻或重), 需要秤几次. 

有些小伙伴想到了二分法, 2^4 = 16 , 所以应该是四次, 其实是不对的, 首先, 可能出现的是24种情况, 12 * 2 (轻或者重), 再次, 天平一共有三种情况, 左倾, 平衡, 右倾, 因此 3^3 = 27 所以, 应该是3次内即可

<!-- 假设球为012, 1为标准, 2为重, 0为轻

``` js
000 = 0
001 = 1
002 = 2
010 = 3
011 = 4
012 = 5
020 = 6
021 = 7
022 = 8
100 = 9
101 = 10
102 = 11
110 = 12
111 = 13
112 = 14
120 = 15
121 = 16
122 = 17
200 = 18
201 = 19
202 = 20
210 = 21
211 = 22
212 = 23
220 = 24
221 = 25
222 = 26
```

先假设有27个球

0, 3, 6, 9, 12, 15, 18, 21, 24  -->

``` js

```

说有5个整数, 最多比较7次, 就排好序
具体的比较步骤不记得了, 比较精巧. 
但是这里为什么是7次呢, 7次是不是下界呢? 
 
5个整数, 产生的全排列有5!=120种, 从信息论的角度, 信息量就是

$$ log_2{120} = 6.90689059560852 bit $$ 

而两个数比较一次, 显然可以产生1bit的信息量, 所以7次比较几乎就是极限了. 

信息熵

$$ H = -∑pilogpi $$ 

> 当 2 为底数的时候, 正好符合计算机二进制一位的信息量, 即1bit


<!--
Created: Mon Aug 26 2019 15:19:08 GMT+0800 (China Standard Time)
Modified: Mon Aug 26 2019 15:19:08 GMT+0800 (China Standard Time)
-->
# 关于记住密码

浏览器有一个记住密码的功能, 我一直奇怪是怎么实现的, 粗略的找了下, 多数答案都是cookie存储的, 我却觉得不对, 因为

1. cookie不会保存账户密码这种敏感信息, 至少不会直接保存, 而从保存密码这个角度来看, 它是直接保存的. 

2. cookie存在的时候, 用户多数是不需要登录的, 在打开页面的同时就验证了用户的身份就直接跳转目标页面了, 就在于保存密码和自动登录的区别. 

以Chrome浏览器打开QQ邮箱举例, 在我打开 `mail.qq, com` 以后, 页面上显示用户名和我保存的密码, 这时候, 删除Chrome保存的关于该页面的cookie, 刷新页面, 依然还是保存了密码. 

紧接着我又删除了 `Local Storage` , `Session Storage` , `IndexedDB` , `Web SQL` , 均无法删除密码. 

至此, 已经确定保存密码这个功能与网页功能是无关的. 

使用Chrome可以查看你保存的密码, 这有些类时 `OS X` 的钥匙串功能, `OS X` 是采用文件加密存储的方式, 而Chrome也可能使用相同的方法, 然而Chrome并不开源. 

因此使用Chromium或许可以知道一些细节. 

Chromium的源码中, 展示了功能的实现, 

在浏览器第一次访问某页面且成功登录了, Chrome会提示"Do you want to Google Chrome to save your password?"

点击"Sava Password", 会调用函数来保存并加密密码, 

经过查找文档, 发现保存函数是 `EncryptString16` 方法, 而它是调用了Window API的 `CryProtectData` 来保存密码, 只有用加密时候的登录证书, 才可以提取出密码. 

并且发现, Chrome是选择使用一个 `SQLite` 数据库来存储的, 保存在App Date下

> SQLite 是一个保存在C库里的轻型数据库. 

使用Python可以根据数据库信息破解这个密码. 

当然了, 这个功能的方便性多于安全性. 

如果是自己的电脑, 保存密码, 方便了用户的使用. 

如果是公共的电脑, 自然也就不会保存密码了. 

> 其实这个问题的正确答案可能不是很关键, 但是百度到的结果均是清一色的想当然的cookie, 但可能会给别人错误的引导, 这也不是第一次了, 之前在学习箭头函数的时候, 就已经有很多的错误指导了, 其实这个问题细细一想, 就会发现cookie这个答案有很多蹊跷的地方, 说不定你会有兴趣一探究竟, 但, 可能有些人并没有这样的好奇心, 可能就满足于别人给出的cookie的答案, 我这时候却想说一句很中二的话, 这是世界上只有两样东西是永恒的追逐, 一个是头上的灿烂星空, 一个是世界的正确真理. 


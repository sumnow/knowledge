<!--
Created: Mon Aug 26 2019 15:20:55 GMT+0800 (China Standard Time)
Modified: Mon Aug 26 2019 15:20:55 GMT+0800 (China Standard Time)
-->
# cpu 架构

CPU主要由运算器、 控制器、 寄存器三部分组成. 运算器就是起着运算的作用, 控制器就是负责发出CPU每条指令所需要的信息, 寄存器就是保存运算或者指令的一些临时文件, 这样可以保证更高的速度. 

CPU有着处理指令、 执行操作、 控制时间、 处理数据四大作用. 

移动设备很复杂, CPU需要执行数以百万计的指示, 才能使它向期待的方向运行, 而CPU的速度和功率效率是至关重要的. 速度影响用户体验, 而效率影响电池寿命. 最完美的移动设备是高性能和低功耗相结合. 

cpu 架构有很多, 主要是X86, ARM等, 切可以分为两大类, 即所谓的"复杂指令集(CISC)"与"精简指令集(RISC)"系统. 

Intel和ARM处理器的第一个区别是, 前者使用复杂指令集(CISC), 后者使用精简指令集(RISC). 属于这两种类中的各种架构之间最大的区别, 在于它们的设计者考虑问题方式的不同. 

### arm架构

ARM处理器非常适用于移动通信领域, 具有低成本、 高性能和低耗电的特性, ARM的高性价比和低耗能在移动市场比英特尔更具优势. 

ARM的架构相较于基于CISC的x86架构处理器, 由于为了满足电脑产业发展而不断加入指令集, 使得处理器日益庞大, 但每个指令集用到的频率也越差越大, 许多指令到后来已经相当少用, 甚至是可以被新的指令所取代. 而ARM架构则大幅简化架构, 仅保留所需要的指令, 可以让整个处理器更为简化, 拥有小体积、 高效能的特性. 

尤其是在 `iOS` 和 `Android` 崛起之后, 移动soc(System-on-a-Chip)有了长足的发展.

arm架构组成:

01. ALU: 它有两个操作数锁存器、 加法器、 逻辑功能、 结果以及零检测逻辑构成. 

02. 桶形移位寄存器: ARM采用了32&TImes; 32位的桶形移位寄存器, 这样可以使在左移/右移n位. 环移n位和算术右移n位等都可以一次完成. 

03. 高速乘法器: 乘法器一般采用"加一移位"的方法来实现乘法. ARM为了提高运算速度, 则采用两位乘法的方法, 根据乘数的2位来实现"加一移位"运算; ARM高速乘法器采用32&TImes; 8位的结构, 这样, 可以降低集成度(其相应芯片面积不到并行乘法器的1/3). 

04. 浮点部件: 浮点部件是作为选件供ARM构架使用. FPA10浮点加速器是作为协处理方式与ARM相连, 并通过协处理指令的解释来执行. 

05. 控制器: ARM的控制器采用的是硬接线的可编程逻辑阵列PLA. 

06. 寄存器

> 截至2018年12月26日, 目前移动平台最强soc: 苹果家A12X, 由14nm和7nm制程生产, 搭载在最新的iPad Pro上, 已经堪比一些pc平台的cpu了.

### x86架构

X86结构的cpu无疑性能速度上都是远超越arm的, 毕竟是为pc平台设计的, 功率限制显得不那么重要.

> 截至2018年12月26日, 目前民用最强cpu: i9-9900k, 8c16t

一个x86架构主板的组成:

01. CPU, 大家都不陌生的名词, 中央处理器, 计算机的核心大脑. 

02.  北桥(North Bridge Chipset). 北桥是电脑主板上的一块芯片, 位于CPU插座边, 起连接作用. 

03. 南桥芯片(South Bridge)是主板芯片组的重要组成部分, 一般位于主板上离CPU插槽较远的下方, PCI插槽的附近, 这种布局是考虑到它所连接的I/O总线较多, 离处理器远一点有利于布线. 

04.  内存是计算机中重要的部件之一, 它是与CPU进行沟通的桥梁. 计算机中所有程序的运行都是在内存中进行的, 因此内存的性能对计算机的影响非常大. 

05. 显卡(Video card, Graphics card)全称显示接口卡, 又称显示适配器, 是计算机最基本配置、 最重要的配件之一. 

06. 显示j接口

07. 网卡是工作在链路层的网络组件, 是局域网中连接计算机和传输介质的接口, 不仅能实现与局域网传输介质之间的物理连接和电信号匹配, 还涉及帧的发送与接收、 帧的封装与拆封、 介质访问控制、 数据的编码与解码以及数据缓存的功能等. 

08. 声卡的基本功能是把来自话筒、 磁带、 光盘的原始声音信号加以转换, 输出到耳机、 扬声器、 扩音机、 录音机等声响设备, 或通过音乐设备数字接口(MIDI)使乐器发出美妙的声音. 

09. SATA(Serial Advanced Technology Attachment, 串行高级技术附件)是一种基于行业标准的串行硬件驱动器接口, 是由Intel、 IBM、 Dell、 APT、 Maxtor和Seagate公司共同提出的硬盘接口规范. 

10. 硬盘是电脑主要的存储媒介之一, 由一个或者多个铝制或者玻璃制的碟片组成. 碟片外覆盖有铁磁性材料. 

11. 总线

目前很多主板已经将北桥集成到CPU当中, 将南桥集成为PCH, 但大致的框架还是如此的. 

##### 交叉编译

  引入两个名词: 宿主机(Host), 和目标机(Target). 开发板由于硬件所限不能直接在本地建立起开发环境, 需要在配置高的个人电脑上开发完软件后再移植到开发板上运行. 此处的开发板就是Target, 个人电脑就是Host. 

  简单来说, 交叉编译就是在一个平台上生成另一个平台上的可执行代码. 由于Target和Host的平台不一样(平台包括体系结构, 最直观的就是CPU不一样, 一个是x86, 另一个是ARM, 使用的汇编语言都不一样), 不能使用Host的编译工具, 而需要在Host中安装Target的编译工具链(cross compilation tool chain), 来编译得到的运行于Target上的可执行代码. 


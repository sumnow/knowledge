<!--
Created: Mon May 25 2020 21:42:58 GMT+0800 (China Standard Time)
Modified: Mon May 25 2020 21:55:45 GMT+0800 (China Standard Time)
-->

# RPC调用

全称是: 远程过程调用(Remote Procedure Call)

特点是在本地调用远程方法, 就好像是调用本地方法一样.

就像前端点击一个按钮, 调用了服务端的某个方法一样, rpc是服务器与服务器之间调用方法的一种形式.

## 为什么使用RPC不是http?

为了提高传输效率和安全性

1. HTTP接口由于受限于HTTP协议，需要带HTTP请求头，这个请求头里面往往会携带很多无用的数据，导致传输起来效率或者说安全性不如RPC。
2. RPC自己定义了一种TCP协议进行通讯，它是一种技术，一种思想，可以使用很多技术来实现，比如gRPC可以通过http2来实现。
3. http的三次握手四次挥手等一些规矩增加了网络开销，http只适用于交互不大的系统，像淘宝这种亿级的系统，http扛不住。

## 实现原理:(代理模式)

扫描到@Reference注解后, 就给它生成一个代理对象, 将这个代理对象放进容器中. 而这个代理对象的内部, 就是通过httpClient来实现RPC调用的.
RPC将需要调用的对象序列化后传输过来, 然后反序列化.

## 技术要点 

1. Call ID映射
2. 序列化与反序列化
3. 网络传输
4. 要实现一个RPC框架, 只需要把以上三点实现了就基本完成了

<!--
Created: Mon Aug 26 2019 15:21:05 GMT+0800 (China Standard Time)
Modified: Mon Aug 26 2019 15:21:05 GMT+0800 (China Standard Time)
-->
# 二进制的效率

如果说十进制成为人类所能接受的默认进制方式, 是因为手指有十个, 这个结论看起来倒是挺自然的. 

那么, 十个手指可以最多表示多少个数呢? (如果只可以竖手指或不竖手指)

很简单, 可以表示 `0-1023` 这1024个数

这说明同样的计数设备(10个手指)可以表达的数量和进制差距很大. 

说明进制之间是有效率之说的. 

## 效率

首先我们考虑一下1个计量设备下的情况, 二进制, 是有0, 1两种情况, 那么设计这个计量设备的开销就是2, 以此类推. 

如果用b进制来表示, 开销为b, 那么如果要表达0到M范围的值需要

$$ log_b( M + 1 ) $$

个计量设备, 
比如1023, 如果是2进制, log_2(1024) = 10, 如果是10进制 

$$ log_{10}{1000} = 3 $$

那么要表达M+1个值, 所用的开销总和为 

$$ log_b(M+1)*b $$ 

, 其实应该还要再乘一个常数单位, 暂且忽略常数. 

这个开销可以看作 

$$ f(b) = log_b(M+1)*b $$ 

, 这个函数就是一个效率函数, 其导数为0时, 获得极值, 求导, 先用换底公式转化一下, 

$$ f(b) = (ln(M+1)/ln(b))*b $$ 

$$ f'(b) = \frac{ln (M+1)*(ln (b) - 1 )}{(ln b)^2} $$

那么在 `ln(b)-1=0` 时, 取到极值, 最近的2进制和3进制中, 效率对比为

$$ c(2) : c(3) =\frac{2*ln 3} {3*ln2} = 1.056 $$

所以整数进制三进制效率最高, 但是考虑到二进制的实现方式更加容易控制, 使用二进制就渐渐成为主流了. 

